{"version":3,"file":"NftEdition.cjs","sources":["../../../../src/plugins/nftModule/NftEdition.ts"],"sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport { assert, Option } from '@/utils';\nimport {\n  isOriginalEditionAccount,\n  OriginalEditionAccount,\n  OriginalOrPrintEditionAccount,\n  PrintEditionAccount,\n} from './accounts';\nimport { BigNumber, toBigNumber, toOptionBigNumber } from '@/types';\n\nexport type NftEdition = NftOriginalEdition | NftPrintEdition;\n\nexport const isNftEdition = (value: any): value is NftEdition =>\n  typeof value === 'object' && value.model === 'nftEdition';\n\nexport function assertNftEdition(value: any): asserts value is NftEdition {\n  assert(isNftEdition(value), `Expected NftEdition model`);\n}\nexport const toNftEdition = (\n  account: OriginalOrPrintEditionAccount\n): NftEdition =>\n  isOriginalEditionAccount(account)\n    ? toNftOriginalEdition(account)\n    : toNftPrintEdition(account as PrintEditionAccount);\n\nexport type NftOriginalEdition = Readonly<{\n  model: 'nftEdition';\n  isOriginal: true;\n  address: PublicKey;\n  supply: BigNumber;\n  maxSupply: Option<BigNumber>;\n}>;\n\nexport const isNftOriginalEdition = (value: any): value is NftOriginalEdition =>\n  isNftEdition(value) && value.isOriginal;\n\nexport function assertNftOriginalEdition(\n  value: any\n): asserts value is NftOriginalEdition {\n  assert(isNftOriginalEdition(value), `Expected NftOriginalEdition model`);\n}\n\nexport const toNftOriginalEdition = (\n  account: OriginalEditionAccount\n): NftOriginalEdition => ({\n  model: 'nftEdition',\n  isOriginal: true,\n  address: account.publicKey,\n  supply: toBigNumber(account.data.supply),\n  maxSupply: toOptionBigNumber(account.data.maxSupply),\n});\n\nexport type NftPrintEdition = Readonly<{\n  model: 'nftEdition';\n  isOriginal: false;\n  address: PublicKey;\n  parent: PublicKey;\n  number: BigNumber;\n}>;\n\nexport const isNftPrintEdition = (value: any): value is NftPrintEdition =>\n  isNftEdition(value) && !value.isOriginal;\n\nexport function assertNftPrintEdition(\n  value: any\n): asserts value is NftPrintEdition {\n  assert(isNftPrintEdition(value), `Expected NftPrintEdition model`);\n}\n\nexport const toNftPrintEdition = (\n  account: PrintEditionAccount\n): NftPrintEdition => ({\n  model: 'nftEdition',\n  isOriginal: false,\n  address: account.publicKey,\n  parent: account.data.parent,\n  number: toBigNumber(account.data.edition),\n});\n"],"names":["isNftEdition","value","model","assertNftEdition","assert","toNftEdition","account","isOriginalEditionAccount","toNftOriginalEdition","toNftPrintEdition","isNftOriginalEdition","isOriginal","assertNftOriginalEdition","address","publicKey","supply","toBigNumber","data","maxSupply","toOptionBigNumber","isNftPrintEdition","assertNftPrintEdition","parent","number","edition"],"mappings":";;;;;;;;AAYaA,MAAAA,YAAY,GAAIC,KAAD,IAC1B,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAACC,KAAN,KAAgB,aADxC;AAGA,SAASC,gBAAT,CAA0BF,KAA1B,EAAmE;AACxEG,EAAAA,iBAAM,CAACJ,YAAY,CAACC,KAAD,CAAb,EAAuB,2BAAvB,CAAN,CAAA;AACD,CAAA;MACYI,YAAY,GACvBC,OAD0B,IAG1BC,iCAAwB,CAACD,OAAD,CAAxB,GACIE,oBAAoB,CAACF,OAAD,CADxB,GAEIG,iBAAiB,CAACH,OAAD,EALhB;AAeMI,MAAAA,oBAAoB,GAAIT,KAAD,IAClCD,YAAY,CAACC,KAAD,CAAZ,IAAuBA,KAAK,CAACU,WADxB;AAGA,SAASC,wBAAT,CACLX,KADK,EAEgC;AACrCG,EAAAA,iBAAM,CAACM,oBAAoB,CAACT,KAAD,CAArB,EAA+B,mCAA/B,CAAN,CAAA;AACD,CAAA;AAEYO,MAAAA,oBAAoB,GAC/BF,OADkC,KAEV;AACxBJ,EAAAA,KAAK,EAAE,YADiB;AAExBS,EAAAA,UAAU,EAAE,IAFY;EAGxBE,OAAO,EAAEP,OAAO,CAACQ,SAHO;EAIxBC,MAAM,EAAEC,qBAAW,CAACV,OAAO,CAACW,IAAR,CAAaF,MAAd,CAJK;AAKxBG,EAAAA,SAAS,EAAEC,2BAAiB,CAACb,OAAO,CAACW,IAAR,CAAaC,SAAd,CAAA;AALJ,CAFU,EAA7B;AAkBME,MAAAA,iBAAiB,GAAInB,KAAD,IAC/BD,YAAY,CAACC,KAAD,CAAZ,IAAuB,CAACA,KAAK,CAACU,WADzB;AAGA,SAASU,qBAAT,CACLpB,KADK,EAE6B;AAClCG,EAAAA,iBAAM,CAACgB,iBAAiB,CAACnB,KAAD,CAAlB,EAA4B,gCAA5B,CAAN,CAAA;AACD,CAAA;AAEYQ,MAAAA,iBAAiB,GAC5BH,OAD+B,KAEV;AACrBJ,EAAAA,KAAK,EAAE,YADc;AAErBS,EAAAA,UAAU,EAAE,KAFS;EAGrBE,OAAO,EAAEP,OAAO,CAACQ,SAHI;AAIrBQ,EAAAA,MAAM,EAAEhB,OAAO,CAACW,IAAR,CAAaK,MAJA;AAKrBC,EAAAA,MAAM,EAAEP,qBAAW,CAACV,OAAO,CAACW,IAAR,CAAaO,OAAd,CAAA;AALE,CAFU;;;;;;;;;;;;"}